AEONPLN
vert:
"#version 450\n"
"layout (binding = 0) uniform Matrices\n"
"{\n"
"    mat4 ModelMatrix;\n"
"    mat4 ProjectionMatrix;\n"
"    mat4 ViewMatrix;\n"
"};\n"
"layout(location = 0) in vec3 VertexPosition;\n"
"layout(location = 1) in vec3 VertexNormal;\n"
"out vec3 LightIntensity;\n"
"void main()\n"
"{\n"
"    const vec3 Kd = vec3( 1.0f, 1.0f, 1.0f );\n"
"    const vec3 Ld = vec3( 1.0f, 0.38823529411f, 0.27843137254f );\n"
"    if ( length ( VertexNormal ) != 0 )\n"
"    {\n"
"        vec3 tnorm = normalize ( mat3(ViewMatrix) * mat3(ModelMatrix) * VertexNormal );\n"
"        vec4 eyeCoords = ViewMatrix * ModelMatrix * vec4 ( VertexPosition, 1.0 );\n"
"        vec3 s = normalize ( -eyeCoords.xyz );\n"
"        LightIntensity = Ld * Kd * max ( dot ( s, tnorm ), 0.0 );\n"
"    }\n"
"    else\n"
"    {\n"
"        LightIntensity = Ld;\n"
"    }\n"
"    gl_Position = ProjectionMatrix * ViewMatrix * ModelMatrix * vec4(VertexPosition, 1.0);\n"
"}\n"
frag:
"#version 450\n"
"in vec3 LightIntensity;\n"
"layout ( location = 0 ) out vec4 FragColor;\n"
"\n"
"void main()\n"
"{\n"
"    FragColor = vec4 ( LightIntensity, 1.0 );\n"
"}\n"
